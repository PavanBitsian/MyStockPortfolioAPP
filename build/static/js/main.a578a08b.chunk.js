(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(16)},16:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(3),r=a.n(s);var c=function(){return l.a.createElement("header",null,l.a.createElement("p",null,"My Stock Portfolio"))};var o=function(){return l.a.createElement("footer",null,l.a.createElement("p",{align:"center"},"Copyright \xa9 2019 by Pavan   Email: Pavan29275@gmail.com"))},u=a(2),m=a(5),i=a(6),h=a(8),d=a(7),E=a(9),S=a(1);var p=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={userName:"",userId:"",currentCashBalance:"",netAssetValue:"",stocksHeld:[],listOfCashTransactions:[],allStocks:[],cashAmount:"",companyName:"",currentPricePerShare:"",stockMarket:[{numOfShares:"",stockValue:""}]},e.awsapiurl="",e.apiurl="http://mystockportfolio.us-east-2.elasticbeanstalk.com",e.handleAddCash=e.handleAddCash.bind(Object(S.a)(Object(S.a)(e))),e.refreshUserDetails=e.refreshUserDetails.bind(Object(S.a)(Object(S.a)(e))),e.buyStock=e.buyStock.bind(Object(S.a)(Object(S.a)(e))),e.sellStock=e.sellStock.bind(Object(S.a)(Object(S.a)(e))),e.setStockTransParams=e.setStockTransParams.bind(Object(S.a)(Object(S.a)(e))),e}return Object(E.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("start componentDidMount"),fetch(this.apiurl+"/users/12345",{method:"GET"}).then(function(e){return e.json()}).then(function(t){console.log(t),console.log(t.userId),e.setState({userName:t.userName}),e.setState({userId:t.userId}),e.setState({currentCashBalance:t.currentCashBalance}),e.setState({netAssetValue:t.netAssetValue}),e.setState({stocksHeld:t.stocksHeld}),e.setState({listOfCashTransactions:t.listOfCashTransactions}),e.setState({Stocks:t.allStocks})}).catch(console.log),fetch(this.apiurl+"/stocks/allStocks",{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({allStocks:t})}).catch(console.log),console.log("end componentDidMount")}},{key:"handleAddCash",value:function(e){console.log("start handleAddCash");var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n)),fetch(this.apiurl+"/transactions/"+this.state.userId,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userId:this.state.userId,timeStamp:"7-6-2019",amount:this.state.cashAmount,transactionType:"Cr."})}),console.log("end handleAddCash")}},{key:"buyStock",value:function(e){console.log("start buyStock");var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n)),fetch(this.apiurl+"/transact/buy",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({userId:this.state.userId,companyName:"MSFT",numOfShares:100,eachSharePurchaseValue:1e4})}),console.log("buyStock numOfShares:"+this.state.stockMarket[0].numOfShares),console.log("buyStock stockValue:"+this.state.stockMarket[0].stockValue),console.log("end buyStock")}},{key:"sellStock",value:function(e){console.log("start sellStock");var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n)),fetch({origin:this.apiurl+"/transact/sell",cors:!0},{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, GET, OPTIONS, PUT, DELETE"},body:JSON.stringify({userId:this.state.userId,companyName:"MSFT",numOfShares:20,eachSharePurchaseValue:1e4})}),console.log("sellStock numOfShares:"+this.state.numOfShares),console.log("end sellStock")}},{key:"setStockTransParams",value:function(e){console.log("start setStockTransParams");var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n)),console.log("end setStockTransParams")}},{key:"refreshUserDetails",value:function(e){console.log("start refreshUserDetails");var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n)),console.log("end refreshUserDetails")}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"user"},l.a.createElement("h2",{className:"userName"},this.state.userName),l.a.createElement("h2",{className:"currentCashBalance"},"Available Cash balance: ",(new Intl.NumberFormat).format(this.state.currentCashBalance)),l.a.createElement("h2",{className:"netAssetValue"},"Net Asset Value: ",(new Intl.NumberFormat).format(this.state.netAssetValue))),l.a.createElement("form",{className:"cash-form",onSubmit:this.handleAddCash},l.a.createElement("input",{type:"text",name:"cashAmount",placeholder:"Enter amount to add",value:this.state.cashAmount,onChange:this.refreshUserDetails})," \xa0\xa0\xa0",l.a.createElement("button",null,"Add Cash")),l.a.createElement("div",null,l.a.createElement("h2",null,"List of Cash Transactions:"),l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Time Stamp"),"\xa0\xa0\xa0",l.a.createElement("th",null,"Amount"),"\xa0\xa0\xa0",l.a.createElement("th",null,"Transaction Type(Dr./Cr.)")),l.a.createElement("tr",null,l.a.createElement("th",null,this.state.listOfCashTransactions.map(function(e){return l.a.createElement("tr",null,e.timeStamp)})),"\xa0\xa0\xa0",l.a.createElement("th",null,this.state.listOfCashTransactions.map(function(e){return l.a.createElement("tr",null,(new Intl.NumberFormat).format(e.amount))})),"\xa0\xa0\xa0",l.a.createElement("th",null,this.state.listOfCashTransactions.map(function(e){return l.a.createElement("tr",null,e.transactionType)}))))),l.a.createElement("div",null,l.a.createElement("h2",null,"Current list of stocks held:"),l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Company Name"),"\xa0\xa0\xa0",l.a.createElement("th",null,"Number of stocks held"),"\xa0\xa0\xa0"),l.a.createElement("tr",null,l.a.createElement("th",null,this.state.stocksHeld.map(function(e){return l.a.createElement("tr",null,e.companyName)})),"\xa0\xa0\xa0",l.a.createElement("th",null,this.state.stocksHeld.map(function(e){return l.a.createElement("tr",null,e.numOfShares)})),"\xa0\xa0\xa0"))),l.a.createElement("div",null,l.a.createElement("h2",null,"To make transaction use the below table, enter the number of shares in the input box against company name and click on buy or sell button"),l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Company Name"),"\xa0\xa0\xa0",l.a.createElement("th",null,"Current price per share"),"\xa0\xa0\xa0",l.a.createElement("th",null,"Num. of Shares "),"\xa0\xa0\xa0",l.a.createElement("th",null,"Buy/Sell")),l.a.createElement("tr",null,l.a.createElement("th",null,this.state.allStocks.map(function(e){return l.a.createElement("tr",null,e.companyName)})),"\xa0\xa0\xa0",l.a.createElement("th",null,this.state.allStocks.map(function(t){return l.a.createElement("tr",null,l.a.createElement("output",{name:"stockValue",value:e.state.stockMarket.stockValue=t.high},t.high))})),"\xa0\xa0\xa0",l.a.createElement("th",null,this.state.allStocks.map(function(t){return l.a.createElement("tr",null,l.a.createElement("input",{type:"text",placeholder:"Enter number of shares",name:"numOfShares",value:e.state.stockMarket.numOfShares,onChange:e.setStockTransParams}))})),"\xa0\xa0\xa0",l.a.createElement("th",null,this.state.allStocks.map(function(t){return l.a.createElement("tr",null,l.a.createElement("button",{onClick:e.buyStock},"Buy"),"\xa0\xa0\xa0",l.a.createElement("button",{onClick:e.sellStock},"Sell"))})),"\xa0\xa0\xa0"))),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)))}}]),t}(l.a.Component);var f=function(){return l.a.createElement("div",null,l.a.createElement(c,null),l.a.createElement("h1",null,"Welcome back!"),l.a.createElement(p,null),l.a.createElement(o,null))};r.a.render(l.a.createElement(f,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.a578a08b.chunk.js.map